{% extends 'base.html' %}
{% block content %}
<h2>Manage Events</h2>

<form action="/upload_event" method="POST" enctype="multipart/form-data" class="mb-4">
    <label>Event Title:</label>
    <input type="text" name="event_title" class="form-control mb-2" required>
    <label>Description:</label>
    <textarea name="description" class="form-control mb-2" rows="3" required></textarea>
    <label>Category:</label>
    <select name="category" class="form-control mb-2" required>
        <option value="Sunday Service">Sunday Service</option>
        <option value="Youth">Youth</option>
        <option value="Outreach">Outreach</option>
        <option value="Conference">Conference</option>
    </select>
    <label>Start Date:</label>
    <input type="date" name="start_date" class="form-control mb-2" required>
    <label>End Date:</label>
    <input type="date" name="end_date" class="form-control mb-2" required>
    <label>Upload Poster:</label>
    <input type="file" name="poster" class="form-control mb-2" required>
    <button type="submit" class="btn btn-success">Upload Event</button>
</form>

<div class="row">
    {% for filename in posters %}
    <div class="col-md-3 mb-3">
        <img src="{{ url_for('static', filename='uploads/posters/' + filename) }}" class="img-fluid rounded">
        <form action="{{ url_for('delete_poster', filename=filename) }}" method="POST">
            <button type="submit" class="btn btn-sm btn-danger mt-2">Delete</button>
        </form>
    </div>
    {% else %}
        <p>No event posters uploaded yet.</p>
    {% endfor %}
</div>
{% endblock %}
